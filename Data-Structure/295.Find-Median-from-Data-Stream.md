## 295. Find Median from Data Stream

----
## 题目地址

[https://www.lintcode.com/problem/find-median-from-data-stream](https://www.lintcode.com/problem/find-median-from-data-stream)

## 题目描述

```text
What's the definition of Median?

The median is not equal to median in math.
Median is the number that in the middle of a sorted array. If there are n numbers in a sorted array A, the median is A[(n - 1) / 2]A[(n−1)/2].
For example, if A=[1,2,3], median is 2. If A=[1,19], median is 1.
```

## 代码

```java
public class Solution {
    public int[] median(int[] nums) {
    if (nums == null) return null;
    int[] result = new int[nums.length];

    PriorityQueue<Integer> minHeap = new PriorityQueue<Integer>();
    PriorityQueue<Integer> maxHeap = new PriorityQueue<Integer>(1, new Comparator<Integer>(){
      @Override
      public int compare(Integer x, Integer y) {
        return y - x;
      }
    });

    result[0] = nums[0];
    maxHeap.add(nums[0]);

    for (int i = 1; i < nums.length; i++) {
      int x = maxHeap.peek();
      if (nums[i] <= x) {
        maxHeap.add(nums[i]);
      } else {
        minHeap.add(nums[i]);
      }
      if (maxHeap.size() > minHeap.size() + 1) {
        minHeap.add(maxHeap.poll());
      } else if (maxHeap.size() < minHeap.size()) {
        maxHeap.add(minHeap.poll());
      }
      result[i] = maxHeap.peek();
    }

    return result;
  }
}
```

Approach 2:

```java
class MedianFinder {
  public PriorityQueue<Integer> minheap, maxheap;
  public MedianFinder() {
    maxheap = new PriorityQueue<Integer>();
  }

  public void addNum(int num) {
    maxheap.add(num);
    minheap.add(maxheap.poll());
    if (maxheap.size() < minheap.size()) {
      maxheap.add(minheap.poll());
    }
  }

  public double findMedian() {
    if (maxheap.size() == minheap.size()) {
      return (maxheap.peek() + minheap.peek()) * 0.5;
    } else {
      return maxheap.peek();
    }
  }

}
```

