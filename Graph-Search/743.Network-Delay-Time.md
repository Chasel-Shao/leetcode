## 743. Network Delay Time

----
## 题目地址

https://leetcode.com/problems/network-delay-time/

## 题目描述
```
There are N network nodes, labelled 1 to N.

Given times, a list of travel times as directed edges times[i] = (u, v, w), where u is the source node, v is the target node, and w is the time it takes for a signal to travel from source to target.

Now, we send a signal from a certain node K. How long will it take for all nodes to receive the signal? If it is impossible, return -1.

Example 1:
Input: times = [[2,1,1],[2,3,1],[3,4,1]], N = 4, K = 2
Output: 2
 
Note:
N will be in the range [1, 100].
K will be in the range [1, N].
The length of times will be in the range [1, 6000].
All edges times[i] = (u, v, w) will have 1 <= u, v <= N and 0 <= w <= 100.
```

## 代码

### Approach #1 Depth-First Search

Time: O(N^N + E log E) && Space: O(N + E)  where E is the length of `times`.

```java
class Solution {
  public int networkDelayTime(int[][] times, int N, int K) {
		Map<Integer, List<int[]>> graph = new HashMap();
    for (int[] edge: times) {
      if (!graph.containsKey(edge[0])) {
        graph.put(edge[0], new ArrayList<int[]>());
      }
      graph.get(edge[0]).add(new int[]{edge[2], edge[1]}); // source -> [time, target]
    }
    
    for (int node: graph.keySet()) {
      Collections.sort(graph.get(node), (a, b) -> a[0] - b[0]);
    }
    
    dist = new HashMap();
    for (int node = 1; node <= N; node++) {
      dist.put(node, Integer.MAX_VALUE);
    }
    
    dfs(graph. K, 0);
    int ans = 0;
    for (int cand: dist.values()) {
      if (cand == Integer.MAX_VALUE)		return -1;
      ans = Math.max(ans, cand);
    }
    
    return ans;
  }
  
  public void dfs(Map<Integer, List<int[]>> graph, int node, int elapsed) {
    if (elapsed >= dist.get(node))		return;
    dist.put(node, elapsed);
    if (graph.containsKey(node)) {
      for (int[] info: graph.get(node)) {
        dfs(graph, info[1], elapsed + info[0]);
      }
    }
  }
  
}
```















